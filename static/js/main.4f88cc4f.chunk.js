(this.webpackJsonptrellis=this.webpackJsonptrellis||[]).push([[0],{111:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(10),i=a.n(r),s=(a(111),a(92)),o=a(208),l=a(190),j=a(213),u=a(192),d=a(194),b=a(195),p=a(3),O=Object(l.a)((function(e){return Object(j.a)({root:{flexGrow:1,marginBottom:30},title:{flexGrow:1}})}));function h(){var e=O();return Object(p.jsx)("div",{className:e.root,children:Object(p.jsx)(u.a,{position:"static",children:Object(p.jsx)(d.a,{children:Object(p.jsx)(b.a,{variant:"h5",className:e.title,children:"Trellis"})})})})}var x=a(93),m=a(33),f=a(16),g=a(49),y=a.n(g),k=a(209),v=a(197),R=a(43),q=Object(l.a)((function(){return{text:{marginLeft:20,width:700},button:{margin:20}}})),w=function(e){var t=q(),a=e.setAuth,n=Object(R.a)(),c=n.register,r=n.handleSubmit,i=n.errors;return Object(p.jsxs)("form",{onSubmit:r((function(e){return a(e)})),children:[Object(p.jsx)(k.a,{className:t.text,label:"Token",name:"token",fullWidth:!0,inputRef:c({required:!0,pattern:/^[0-9a-fA-F]{64}$/}),error:Boolean(i.token),helperText:i.token&&"Token required 64 chars."}),Object(p.jsx)(k.a,{className:t.text,label:"API Key",name:"apiKey",fullWidth:!0,inputRef:c({required:!0,pattern:/^[0-9a-fA-F]{32}$/}),error:Boolean(i.apiKey),helperText:i.apiKey&&"API Key required 32 chars."}),Object(p.jsx)(v.a,{className:t.button,variant:"contained",color:"secondary",type:"submit",children:"Submit"})]})},S=a(153),F=a(198),L=Object(l.a)((function(){return{paper:{margin:30},text:{marginLeft:20,width:500},callbackText:{marginLeft:20,width:700},button:{marginLeft:20}}})),C=function(e){var t=L(),a=e.create,n=Object(R.a)(),c=n.register,r=n.handleSubmit,i=n.errors;return Object(p.jsx)(S.a,{elevation:3,className:t.paper,children:Object(p.jsx)("form",{onSubmit:r((function(e){return a(e)})),children:Object(p.jsxs)(F.a,{container:!0,spacing:3,children:[Object(p.jsx)(F.a,{item:!0,xs:12,children:Object(p.jsx)(k.a,{className:t.text,label:"Description",name:"description",inputRef:c({required:!1})})}),Object(p.jsx)(F.a,{item:!0,xs:12,children:Object(p.jsx)(k.a,{className:t.callbackText,label:"Callback URL (Required)",name:"callbackURL",inputRef:c({required:!0}),error:Boolean(i.callbackURL),helperText:i.callbackURL&&"Required."})}),Object(p.jsx)(F.a,{item:!0,xs:12,children:Object(p.jsx)(k.a,{className:t.text,label:"ID Model (Required)",name:"idModel",inputRef:c({required:!0,pattern:/^[0-9a-fA-F]{24}$/}),error:Boolean(i.idModel),helperText:i.idModel&&"ID Model required 24 chars."})}),Object(p.jsx)(F.a,{item:!0,xs:12,children:Object(p.jsx)(v.a,{className:t.button,variant:"contained",color:"secondary",type:"submit",children:"Create"})})]})})})},T=a(210),U=a(203),N=a(204),D=a(205),I=a(199),M=a(200),B=a(206),K=a(202),A=a(201),W=a(87),z=a.n(W),P=a(86),V=a.n(P),$=a(90),E=a.n($),G=a(91),J=a.n(G),H=a(61),Q=a(60),X=a(88),Y=a.n(X),Z=a(89),_=a.n(Z),ee=Object(l.a)({root:{"& > *":{borderBottom:"unset"}}}),te=function(e){var t=e.row,a=e.update,n=e.delete,r=Object(R.a)(),i=r.register,s=r.handleSubmit,o=r.errors,l=c.a.useState(!1),j=Object(f.a)(l,2),u=j[0],d=j[1],b=ee();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(I.a,{className:b.root,children:[Object(p.jsx)(M.a,{align:"center",children:Object(p.jsx)(A.a,{"aria-label":"expand row",size:"small",onClick:function(){return d(!u)},children:u?Object(p.jsx)(V.a,{}):Object(p.jsx)(z.a,{})})}),Object(p.jsx)(M.a,{component:"th",scope:"row",children:t.id}),Object(p.jsx)(M.a,{children:t.description}),Object(p.jsx)(M.a,{align:"center",children:t.active?Object(p.jsx)(Y.a,{style:{color:H.a[500]}}):Object(p.jsx)(_.a,{style:{color:Q.a[500]}})}),Object(p.jsx)(M.a,{align:"right",children:t.consecutiveFailures})]}),Object(p.jsx)(I.a,{children:Object(p.jsx)(M.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:Object(p.jsx)(K.a,{in:u,timeout:"auto",unmountOnExit:!0,children:Object(p.jsx)(T.a,{margin:1,children:Object(p.jsx)(F.a,{container:!0,alignItems:"center",justify:"center",children:Object(p.jsx)(F.a,{item:!0,xs:10,children:Object(p.jsxs)("form",{onSubmit:s((function(e){return a(e)})),children:[Object(p.jsx)("input",{name:"id",ref:i({required:!0}),style:{display:"none"},defaultValue:t.id}),Object(p.jsx)(k.a,{fullWidth:!0,label:"Description",name:"description",inputRef:i({required:!1}),defaultValue:t.description}),Object(p.jsx)(k.a,{fullWidth:!0,label:"Callback URL (Required)",name:"callbackURL",inputRef:i({required:!0}),error:Boolean(o.callbackURL),helperText:o.callbackURL&&"Required.",defaultValue:t.callbackURL}),Object(p.jsx)(k.a,{fullWidth:!0,label:"ID Model (Required)",name:"idModel",inputRef:i({required:!0,pattern:/^[0-9a-fA-F]{24}$/}),error:Boolean(o.idModel),helperText:o.idModel&&"ID Model required 24 chars.",defaultValue:t.idModel}),Object(p.jsx)(A.a,{type:"submit",children:Object(p.jsx)(E.a,{})}),Object(p.jsx)(A.a,{onClick:function(){return n(t.id)},children:Object(p.jsx)(J.a,{style:{color:Q.a.A400}})})]})})})})})})})]})},ae=Object(l.a)({table:{minWidth:650}}),ne=function(e){var t=ae(),a=e.update,n=e.delete,c=e.rows;return Object(p.jsx)(T.a,{p:3,children:Object(p.jsx)(U.a,{component:S.a,children:Object(p.jsxs)(N.a,{className:t.table,size:"small",children:[Object(p.jsx)(D.a,{children:Object(p.jsxs)(I.a,{children:[Object(p.jsx)(M.a,{}),Object(p.jsx)(M.a,{children:"ID"}),Object(p.jsx)(M.a,{width:"50%",children:"Description"}),Object(p.jsx)(M.a,{align:"center",children:"Active"}),Object(p.jsx)(M.a,{align:"right",children:"Consecutive Failures"})]})}),Object(p.jsx)(B.a,{children:c.map((function(e){return Object(p.jsx)(te,{row:e,delete:n,update:a},e.id)}))})]})})})},ce=a(62),re=a.n(ce),ie=a(214),se=a(207),oe=a(212),le=a(211),je=function(e){return Object(p.jsx)(le.a,Object(m.a)({elevation:6,variant:"filled"},e))},ue=function(e){var t=e.open,a=e.handleClose,n=e.type,c=e.message;return Object(p.jsx)(oe.a,{open:t,autoHideDuration:3e3,onClose:a,children:Object(p.jsx)(je,{onClose:a,severity:n,children:c})})},de=Object(l.a)((function(e){return Object(j.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),be=function(){var e=de(),t=Object(n.useState)(!1),a=Object(f.a)(t,2),c=a[0],r=a[1],i=Object(n.useState)({open:!1,type:"info",message:""}),s=Object(f.a)(i,2),o=s[0],l=s[1],j=Object(n.useState)(!1),u=Object(f.a)(j,2),d=u[0],b=u[1],O=function(){return r(!1)},h=function(){return r(!0)},g=Object(n.useState)({apiKey:"",token:""}),k=Object(f.a)(g,2),v=k[0],R=k[1],q=Object(n.useState)([]),S=Object(f.a)(q,2),F=S[0],L=S[1];Object(n.useEffect)((function(){v.apiKey&&v.token&&(T(!0),b(!0))}),[v]);var T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=v.apiKey,a=v.token;h(),y.a.get("https://api.trello.com/1/tokens/".concat(a,"/webhooks"),{params:{key:t}}).then((function(t){L(t.data),O(),e&&l({open:!0,type:"success",message:"Success Loaded!"})})).catch((function(t){O(),e&&l({open:!0,type:"error",message:"Failure Loaded!"}),b(!1)}))};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(w,{setAuth:R}),d?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(C,{create:function(e){var t=v.apiKey,a=v.token;h();var n=re.a.stringifyUrl({url:"https://api.trello.com/1/tokens/".concat(a,"/webhooks"),query:Object(m.a)({key:t,token:a},e)});y.a.post(n).then((function(e){T(),l({open:!0,type:"success",message:"Success Created!"})})).catch((function(e){O(),l({open:!0,type:"error",message:"Failure Created!"})}))}}),Object(p.jsx)(ne,{update:function(e){var t=v.apiKey,a=v.token,n=e.id,c=Object(x.a)(e,["id"]);h();var r=re.a.stringifyUrl({url:"https://api.trello.com/1/webhooks/".concat(n),query:Object(m.a)({key:t,token:a},c)});y.a.put(r).then((function(e){T(),O(),l({open:!0,type:"success",message:"Success Updated!"})})).catch((function(e){O(),l({open:!0,type:"error",message:"Failure Updated!"})}))},delete:function(e){var t=v.apiKey,a=v.token;h();var n=re.a.stringifyUrl({url:"https://api.trello.com/1/tokens/".concat(a,"/webhooks/").concat(e),query:{key:t,token:a}});y.a.delete(n).then((function(e){T(),O(),l({open:!0,type:"success",message:"Success Deleted!"})})).catch((function(e){O(),l({open:!0,type:"error",message:"Failure Deleted!"})}))},rows:F})]}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)(ie.a,{className:e.backdrop,open:c,onClick:O,children:Object(p.jsx)(se.a,{color:"inherit"})}),Object(p.jsx)(ue,{open:o.open,handleClose:function(e,t){"clickaway"!==t&&l(Object(m.a)(Object(m.a)({},o),{},{open:!1}))},type:o.type,message:o.message})]})},pe=Object(s.a)({palette:{primary:{main:"#2770c2"}}}),Oe=function(){return Object(p.jsxs)(o.a,{theme:pe,children:[Object(p.jsx)(h,{}),Object(p.jsx)(be,{})]})},he=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,216)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(Oe,{})}),document.getElementById("root")),he()}},[[151,1,2]]]);
//# sourceMappingURL=main.4f88cc4f.chunk.js.map